test_check("cbbinom")
path
undebug(testthat::test_dir)
debug(testthat:::find_test_scripts)
library(testthat)
library(cbbinom)
test_check("cbbinom")
path
dir(path, "^test.*\\.[rR]$", full.names = full.names)
?dir
list.files(path, "^test.*\\.[rR]$")
list.files(path)
undebug(testthat:::find_test_scripts)
View(testthat::test_dir)
debug(testthat::test_dir)
devtools::test()
undebug(testthat::test_dir)
devtools::test()
debug(devtools::test_dir)
debug(devtools:::test_dir)
debug(testthat::test_dir)
devtools::test()
undebug(testthat::test_dir)
renv::install("Rcpp@1.0.12", type = "source")
renv::install("rlang@1.1.1", type = "source")
cbbinom_plot_x_d <- seq(-1/2, 40 + 1/2, 0.1)
cbbinom_plot_y_d <- dcbbinom(
x = cbbinom_plot_x_d,
size = 40,
alpha = 2,
beta = 4,
ncp = -1/2,
# Set low precision for faster computation
prec = 20
)
devtools::document()
cbbinom_plot_y_d <- dcbbinom(
x = cbbinom_plot_x_d,
size = 40,
alpha = 2,
beta = 4,
ncp = -1/2,
# Set low precision for faster computation
prec = 20
)
ggplot2::ggplot(mapping = ggplot2::aes(x = x, y = y)) +
ggplot2::geom_point(
data = data.frame(
x = cbbinom_plot_x_d,
y = cbbinom_plot_y_d
)
) +
ggplot2::scale_x_continuous(
n.breaks = diff(range(bbinom_plot_x))
) +
ggplot2::theme_bw() +
ggplot2::labs(y = "CDF(x)")
ggplot2::ggplot(mapping = ggplot2::aes(x = x, y = y)) +
ggplot2::geom_point(
data = data.frame(
x = cbbinom_plot_x_d,
y = cbbinom_plot_y_d
)
) +
ggplot2::scale_x_continuous(
n.breaks = diff(range(c(0,41)))
) +
ggplot2::theme_bw() +
ggplot2::labs(y = "CDF(x)")
cbbinom_plot_y_d <- dcbbinom(
x = cbbinom_plot_x_d,
size = 40,
alpha = 2,
beta = 4,
ncp = -1/2,
# Set low precision for faster computation
prec = 50
)
ggplot2::ggplot(mapping = ggplot2::aes(x = x, y = y)) +
ggplot2::geom_point(
data = data.frame(
x = cbbinom_plot_x_d,
y = cbbinom_plot_y_d
)
) +
ggplot2::scale_x_continuous(
n.breaks = diff(range(c(0,41)))
) +
ggplot2::theme_bw() +
ggplot2::labs(y = "CDF(x)")
devtools::document()
devtools::document()
devtools::document()
library(testthat)
library(extraDistr)
# Parameters
test_size <- 10
test_alpha <- 2
test_beta <- 4
test_delta <- 1e-6
test_tol <- NULL
test_prec <- 20
test_root_tol <- 1e-6
test_max_iter <- 10000L
# Inputs
test_x <- 5
test_val <- pcbbinom(q = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
devtools::document()
library(testthat)
library(extraDistr)
# Parameters
test_size <- 10
test_alpha <- 2
test_beta <- 4
test_delta <- 1e-6
test_tol <- NULL
test_prec <- 20
test_root_tol <- 1e-6
test_max_iter <- 10000L
# Inputs
test_x <- 5
test_val <- pcbbinom(q = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = TRUE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = TRUE)) /
(2 * test_delta) * test_val
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta) - ((pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = TRUE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = TRUE)) /
(2 * test_delta) * test_val)
testthat::testthat_tolerance()
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta) - ((pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta))
testthat::testthat_tolerance()
test_delta <- 1e-8
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta) - ((pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta))
test_delta <- 1e-3
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta) - ((pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta))
devtools::document()
pkgbuild::clean_dll()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
renv::install("BH@1.7.5-0")
renv::install("BH@1.75.0-0")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
pkgbuild::clean_dll()
devtools::document()
devtools::document()
renv::install("Rmpfr")
symbols <- readRDS("E:/.cache/R/renv/cache/v5/R-4.0/x86_64-w64-mingw32/Rmpfr/0.8-7/3e4b9d1192e79022615f25b98a3a6663/Rmpfr/libs/x64/symbols.rds")
symbols
library(Rmpfr)
Rmpfr::mpfr()
Rmpfr::mpfr(1)
Rmpfr::mpfr(1, 100)
Rmpfr::mpfr(1, 100) + Rmpfr::mpfr(2, 100)
usethis::use_package("Rmpfr", "LinkingTo")
renv::purge("Rmpfr")
renv::snapshot()
usethis::use_rcpp()
usethis::use_make()
tools::makevars_user()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
gen_hypergeo(U = c(1.1, 0.2, 0.3), L = c(10.1, 4 * pi), x = 1,
tol = NULL, max_iter = 10000L, prec = NULL, check_mode = TRUE, log = FALSE)
test_size <- 40
test_alpha <- 2
test_beta <- 4
test_delta <- 1e-3
test_tol <- NULL
test_prec <- 25
test_root_tol <- 1e-6
test_max_iter <- 10000L
# Inputs
test_x <- 29.2
test_val <- pcbbinom(q = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
gen_hypergeo(U = U,
L = L,
x = 1,
tol = test_tol,
max_iter = test_max_iter,
prec = test_prec,
check_mode = TRUE,
log = FALSE)
U <- c(1 - test_x,
test_size + 1 - test_x,
test_size + 1 - test_x + test_beta)
L <- c(test_size + test_alpha - test_x,
test_size + 1 - test_x + test_alpha + test_beta)
gen_hypergeo(U = U,
L = L,
x = 1,
tol = test_tol,
max_iter = test_max_iter,
prec = test_prec,
check_mode = TRUE,
log = FALSE)
test_x <- 0.1
U <- c(1 - test_x,
test_size + 1 - test_x,
test_size + 1 - test_x + test_beta)
L <- c(test_size + test_alpha - test_x,
test_size + 1 - test_x + test_alpha + test_beta)
gen_hypergeo(U = U,
L = L,
x = 1,
tol = test_tol,
max_iter = test_max_iter,
prec = test_prec,
check_mode = TRUE,
log = FALSE)
U
L
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
?cbbinom
?`cbbinom-package`
?cbbinom
devtools::build_manual()
rlang::last_trace()
devtools::document()
devtools::document()
pkgload::dev_help('cbbinom-package')
?Rd2pdf
gen_hypergeo(U = c(1.1, 0.2, 0.3), L = c(10.1, 4 * pi), x = 1,
tol = NULL, max_iter = 10000L, prec = NULL, check_mode = TRUE, log = FALSE)
devtools::document()
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
test_size <- 10
test_alpha <- 2
test_beta <- 4
test_delta <- 1e-3
test_tol <- NULL
test_prec <- 20
test_root_tol <- 1e-6
test_max_iter <- 10000L
# Inputs
test_x <- 5
test_val <- pcbbinom(q = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta)
test_delta <- 1e-6
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta)
testthat::expect_equal(
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta),
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta)
)
devtools::build_manual()
renv::snapshot()
devtools::build_manual()
debug(tools::texi2pdf)
devtools::build_manual()
undebug(tools::texi2pdf)
undebug(tools::texi2dvi)
debug(tools::texi2dvi)
devtools::build_manual()
undebug(tools::texi2dvi)
View(devtools::build_manual)
?Rd2pdf
tools::texi2pdf("man/cbbinom-package.Rd")
View(tools::texi2pdf)
View(tools::texi2dvi)
Sys.getenv("PDFLATEX", "pdflatex")
?Sys.getenv
Sys.which("pdflatex")
Sys.which("texify")
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
debug(tools::texi2dvi)
devtools::build_manual()
?devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::document()
devtools::build_manual()
devtools::document()
devtools::build_manual()
tools::texi2pdf("man/cbbinom-package.Rd")
tools::texi2pdf("man/cbbinom.Rd")
devtools::build_manual()
devtools::document()
devtools::document()
devtools::build_manual()
devtools::document()
?renv::clean()
renv::clean()
renv::snapshot()
Sys.which("make")
renv::install("BH@1.81.0-1")
devtools::document()
pkgbuild::clean_dll()
devtools::document()
Rcpp::evalCpp("printf(\"__GNUC__ = %d\n\",4);")
Rcpp::cppFunction("void test_fun() {printf(\"__GNUC__ = %d\n\",4);}")
Rcpp::cppFunction("void test_fun() {Rprintf(\"__GNUC__ = %d\n\",4);}")
Rcpp::cppFunction("void test_fun() {Rprintf(\"__GNUC__ = %d\\n\",4);}")
test_fun()
system("which gcc")
system("where gcc")
system("gcc --version")
Rcpp::cppFunction("void test_fun() {Rprintf(\"__GNUC__ = %d\\n\",__GNUC__);}")
test_fun()
Rcpp::cppFunction("void test_fun() {Rprintf(\"__GNUC__ = %d\\n\",__GNUC__);}")
Rcpp::cppFunction("void test_fun() {Rprintf(\"__GNUC__ = %d\\n\",__GNUC__);}")
Rcpp::cppFunction("void test_fun() {Rprintf(\"__GNUC__ = %d\\n\",__GNUC__);}")
test_fun()
devtools::document()
devtools::document()
renv::install("BH@1.75.0-0")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
dcbbinom(
x = 29,
size = 40,
alpha = 2,
beta = 4,
prec = 20L
)
devtools::document()
devtools::document()
devtools::document()
dcbbinom(
x = 29,
size = 40,
alpha = 2,
beta = 4,
prec = 20L
)
library(testthat)
library(extraDistr)
# Parameters
test_size <- 10
test_alpha <- 2
test_beta <- 4
test_delta <- 1e-6
test_prec <- 20L
test_tol <- 1e-6
test_max_iter <- 10000L
# Inputs
test_x <- 5
test_val <- pcbbinom(q = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
testthat::test_that(
"dcbbinom",
{
testthat::expect_equal(
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta),
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta)
)
}
)
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta)
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta) - dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta)
test_delta <- 1e-3
testthat::test_that(
"dcbbinom",
{
testthat::expect_equal(
dcbbinom(x = test_x, size = test_size, alpha = test_alpha, beta = test_beta),
(pcbbinom(q = test_x + test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE) -
pcbbinom(q = test_x - test_delta, size = test_size,
alpha = test_alpha, beta = test_beta, log.p = FALSE)) /
(2 * test_delta)
)
}
)
testthat::test_that(
"pcbbinom",
{
testthat::expect_equal(
test_val,
extraDistr::pbbinom(q = test_x - 1, size = test_size,
alpha = test_alpha, beta = test_beta)
)
}
)
devtools::document()
pkgload::dev_help('gen_hypergeo')
session_info()
sessioninfo::session_info()
renv::clean()
renv::install("hypergeo")
usethis::use_package("hypergeo", "Suggests")
hypergeo_U <- c(-28.2, 11.8, 15.8)
hypergeo_L <- c(12.8, 17.8)
hypergeo_x <- 1
hypergeo::genhypergeo(hypergeo_U, hypergeo_L, hypergeo_x)
cbbinom::gen_hypergeo
cbbinom::gen_hypergeo(hypergeo_U, hypergeo_L, hypergeo_x,
prec = NULL, check_mode = TRUE, log = FALSE)
cbbinom::gen_hypergeo(hypergeo_U, hypergeo_L, hypergeo_x,
prec = 20L, check_mode = TRUE, log = FALSE)
hypergeo::genhypergeo
gamma(40 + 1) * beta(40 + 1 - 29.2 + 4, 2) / gamma(29.2) / gamma(40 + 2) / beta(2, 4) *
cbbinom::gen_hypergeo(U = hypergeo_U, L = hypergeo_L, x = hypergeo_x,
prec = NULL, check_mode = TRUE, log = FALSE)
gamma(29.2 + 1) * beta(40 + 1 - 29.2 + 4, 2) / gamma(29.2) / gamma(40 + 2) / beta(2, 4) *
cbbinom::gen_hypergeo(U = hypergeo_U, L = hypergeo_L, x = hypergeo_x,
prec = NULL, check_mode = TRUE, log = FALSE)
gamma(40 + 1) * beta(40 + 1 - 29.2 + 4, 2) / gamma(29.2) / gamma(40 + 2) / beta(2, 4) *
cbbinom::gen_hypergeo(U = hypergeo_U, L = hypergeo_L, x = hypergeo_x,
prec = NULL, check_mode = TRUE, log = FALSE)
gamma(40 + 1) * beta(40 + 1 - 29.2 + 4, 2) / gamma(29.2) / gamma(40 + 2) / beta(2, 4) *
cbbinom::gen_hypergeo(U = hypergeo_U, L = hypergeo_L, x = hypergeo_x,
prec = 20L, check_mode = TRUE, log = FALSE)
gamma(40 + 1) * beta(40 + 1 - 29.2 + 4, 2) /
gamma(29.2) / gamma(40 + 2 - 29.2) / beta(2, 4) *
cbbinom::gen_hypergeo(U = hypergeo_U, L = hypergeo_L, x = hypergeo_x,
prec = NULL, check_mode = TRUE, log = FALSE)
gamma(40 + 1) * beta(40 + 1 - 29.2 + 4, 2) /
gamma(29.2) / gamma(40 + 2 - 29.2) / beta(2, 4) *
hypergeo::genhypergeo(U = hypergeo_U, L = hypergeo_L, z = hypergeo_x)
renv::snapshot()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
usethis::create_tidy_package("../hypergeo2")
renv::status()
renv::install("Rcpp@1.0.12")
renv::install("Rcpp@1.0.12")
devtools::document()
